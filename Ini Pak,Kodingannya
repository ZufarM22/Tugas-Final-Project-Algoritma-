#include <iostream>
#include <string>

using namespace std;

const int MAX_MENU = 4;

struct MenuItem {
    string name;
    double price;
    int stock;
};

class SchoolFoodService {
private:
    MenuItem menu[MAX_MENU];
    int dailySales[MAX_MENU] = {0};
    int menuFavorites[MAX_MENU] = {0};
    string breakTime;
    int menuSize = 0;

public:
    void addMenuItem(string name, double price, int stock) {
        if (menuSize < MAX_MENU) {
            menu[menuSize].name = name;
            menu[menuSize].price = price;
            menu[menuSize].stock = stock;
            menuSize++;
        }
    }

    void displayMenu() {
        cout << "Menu: " << endl;
        for (int i = 0; i < menuSize; i++) {
            cout << menu[i].name << ": Price = " << menu[i].price << ", Stock = " << menu[i].stock << endl;
        }
    }

    void setBreakTime(string time) {
        breakTime = time;
        cout << "Break time set to: " << breakTime << endl;
    }

    void setMenuPrice(string itemName, double price) {
        for (int i = 0; i < menuSize; i++) {
            if (menu[i].name == itemName) {
                menu[i].price = price;
                cout << "Price for " << itemName << " updated to: " << price << endl;
                return;
            }
        }
    }

    void processOrder(string itemName, int quantity) {
        for (int i = 0; i < menuSize; i++) {
            if (menu[i].name == itemName && menu[i].stock >= quantity) {
                menu[i].stock -= quantity;
                recordSale(itemName, quantity);
                cout << "Order processed for " << quantity << " " << itemName << endl;
                return;
            }
        }
        cout << "Order could not be processed for " << itemName << endl;
    }

    void recordSale(string itemName, int quantity) {
        for (int i = 0; i < menuSize; i++) {
            if (menu[i].name == itemName) {
                dailySales[i] += quantity;
                menuFavorites[i] += quantity;
                return;
            }
        }
    }

    void displaySales() {
        cout << "Total Sales: " << endl;
        for (int i = 0; i < menuSize; i++) {
            cout << menu[i].name << ": " << dailySales[i] << " sold" << endl;
        }
    }

    void displayFavoriteMenu() {
        cout << "Menu Favorites: " << endl;
        for (int i = 0; i < menuSize; i++) {
            cout << menu[i].name << ": " << menuFavorites[i] << " times ordered" << endl;
        }
    }
};

int main() {
    SchoolFoodService sfsms;

    sfsms.addMenuItem("Batagor Ikan", 10000.0, 50);
    sfsms.addMenuItem("Batagor Ayam", 12000.0, 30);
    sfsms.addMenuItem("Otak-otak", 5000.0, 100);
    sfsms.addMenuItem("Siomay", 10000.0, 70);

    sfsms.displayMenu();

    sfsms.setBreakTime("12:30 PM");

    sfsms.processOrder("Batagor Ikan", 3);
    sfsms.processOrder("Otak-otak", 5);

    sfsms.setMenuPrice("Siomay", 10000.0);

    sfsms.displayMenu();

    sfsms.displaySales();
    sfsms.displayFavoriteMenu();

    return 0;
}


